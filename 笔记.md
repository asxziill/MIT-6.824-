(6.5840)

# 实验参考
(https://zhuanlan.zhihu.com/p/425093684)
(https://zhuanlan.zhihu.com/p/631386296)

# Paxos算法
[网站](https://www.cnblogs.com/linbingdong/p/6253479.html)
出现错误时
快速且正确地在集群内部对某个数据的值达成一致

它利用大多数 (Majority) 机制保证了#2F+1#的容错能力，即2F+1个节点的系统最多允许F个节点同时出现故障。

阶段 ：Proposer、Acceptor、Learner
阶段一：

(a) Proposer选择一个提案**编号N**，然后向**半数以上**的Acceptor发送编号为N的Prepare请求。

(b) 如果一个Acceptor收到一个编号为N的Prepare请求，且N**大于**该Acceptor已经响应过的**所有Prepare请求**的编号，那么它就会将它已经接受过的编号最大的提案（如果有的话）作为响应反馈给Proposer，同时该Acceptor承诺不再接受任何编号小于N的提案。
阶段二：

(a) 如果Proposer收到半数以上Acceptor对其发出的编号为N的Prepare请求的响应，那么它就会发送一个针对[N,V]提案的Accept请求给半数以上的Acceptor。注意：V就是收到的响应中编号最大的提案的value，如果响应中不包含任何提案，那么V就由Proposer自己决定。

(b) 如果Acceptor收到一个针对编号为N的提案的Accept请求，只要该Acceptor没有对编号大于N的Prepare请求做出过响应，它就接受该提案。

主Proposer

# Raft算法